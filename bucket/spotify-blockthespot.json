{
    "homepage": "https://github.com/master131/BlockTheSpot",
    "description": "An ad-free version of Spotify, the popular digital music service.",
    "license": "Proprietary",
    "version": "1.1.4.197",
    "url": "https://github.com/master131/BlockTheSpot/raw/master/downgrade.bat",
    "hash": "e5ac829a0e6c75478d868d925663b1db9aa7d0e316ac53634766ef33c8f763c2",
    "notes": "BlockTheSpot should be installed locally to prevent issues.",
    "pre_install": [
        "Get-Process -Name \"*Spotify*\" | ForEach-Object { Stop-Process $_ }",
        "Move-Item -ErrorAction Ignore -Path \"$Env:APPDATA\\Spotify\" -Destination \"$Env:APPDATA\\Spotify.original\" | Out-Null",
        "",
        "Start-Job {",
        "    do {",
        "        Start-Sleep -Milliseconds 250",
        "        $spotify_process = Get-Process | Where { $_.name -eq \"Spotify\" }",
        "    } while($spotify_process -eq $null)",
        "",
        "    $spotify_process | ForEach-Object { Stop-Process -Id $_.Id }",
        "} | Out-Null",
        "",
        "Start-Process -Wait -WindowStyle Hidden cmd \"/c cd /D `\"$($dir)`\" && .\\downgrade.bat\" -Verb RunAs",
        "",
        "Remove-Item -Path \"$Env:USERPROFILE\\Desktop\\Spotify.lnk\" | Out-Null",
        "",
        "(Get-ChildItem -Path \"$Env:APPDATA\\Spotify\") | ForEach-Object { Move-Item -Force -LiteralPath \"$($_.FullName)\" -Destination \"$($dir)\\$($_.Name)\" }",
        "Remove-Item -Path \"$Env:APPDATA\\Spotify\"",
        "Move-Item -ErrorAction Ignore -Path \"$Env:APPDATA\\Spotify.original\" -Destination \"$Env:APPDATA\\Spotify\" | Out-Null",
        "cmd /c attrib +r \"$Env:LOCALAPPDATA\\Spotify\\Update\""
    ],
    "bin": "Spotify.exe",
    "shortcuts": [
        [
            "Spotify.exe",
            "Spotify"
        ]
    ],
    "uninstaller": {
        "script": [
            "Get-Process -Name \"*Spotify*\" | ForEach-Object { Stop-Process $_ }",
            "Start-Process -Wait \"$($dir)\\Spotify.exe\" -ArgumentList \"/Uninstall\", \"/Silent\""
        ]
    }
}
